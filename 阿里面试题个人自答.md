# 阿里面试题个人自答

以下问题内容来自https://www.cnblogs.com/xueSpring/p/9023687.html

因为我大致看了一下问题，也感觉这是部分服务发展的方向。特此笔记，并且自答用于自检。过段时间再回来看这些面试题应该又会有新的解答思路



##面试试题

### 其他

什么是幂等？什么情况下需要考虑幂等？你怎么解决幂等的问题？



###Java

**多个线程同时读写，读线程的数量远远大于写线程，你认为应该如何解决并发的问题？你会选择加什么样的锁？**



**JAVA的AQS是否了了解，它是干嘛的？**



**除了synchronized关键字之外，你是怎么来保障线程安全的？**



**什么时候需要加volatile关键字？它能保证线程安全吗？**



**线程池内的线程如果全部忙，提交一个新的任务，会发生什什么？队列全部塞满了之后，还是忙，再提交会发生什么？**



**Tomcat本身的参数你⼀一般会怎么调整？**

> 2018-06-21 11:24:04
>
> 目前只会调整启动内存，设定manager的角色和用户



**synchronized关键字锁住的是什么东西？在字节码中是怎么表示的？在内存中的对象上表现为什么？**



**wait/notify/notifyAll方法需不需要被包含在synchronized块中？这是为什么？**



**ExecutorService你一般是怎么用的？是每个service放一个还是一个项目里面放一个？有什么好处？**



###Spring

**你有没有⽤用过Spring的AOP? 是用来干嘛的? 大概会怎么使用？**

> 2018-06-21 11:31:28
>
> 用过，AOP切面编程，在一个方法的执行前和执行后插入额外的处理操作
>
> 我基本用它来设计自定义注解，用来统一校验部分参数，减少if .. else..等校验判断



**如果⼀一个接口有2个不同的实现, 那么怎么来Autowire一个指定的实现？**

>2018-06-21 11:31:32
>
>每个接口实现指定bean.id
>
>@Autowire注解后面跟入@Qualifier来指定id



**Spring的声明式事务 @Transactional注解一般写在什么位置? 抛出了异常会自动回滚吗？有没有办法控制不触发回滚?**

> 2018-06-21 11:31:46
>
> @Transactional 一般写在service方法上，默认抛出异常不会自动回滚，需要指定rollback异常
>
> 有norollback异常来控制不触发回滚。有部分特殊操作异常可以catch捕获，然后抛出norollback配置的异常既可以不触发回滚操作



**如果想在某个Bean生成并装配完毕后执行自己的逻辑，可以什么方式实现？**

>2018-06-21 11:34:25
>
>使用@PostConstruct注解或者是实现InitializingBean接口，重写afterPropertiesSet()方法



**SpringBoot没有放到web容器里为什么能跑HTTP服务？**

> 2018-06-21 11:38:02
>
> spring-boot自带Tomcat容器启动操作



**SpringBoot中如果你想使用自定义的配置文件而不仅仅是application.properties，应该怎么弄？**



**SpringMVC中RequestMapping可以指定GET, POST方法么？怎么指定？**

> 2018-06-21 11:37:58
>
> 设置Method属性



**SpringMVC如果希望把输出的Object(例如XXResult或者XXResponse)这种包装为JSON输出, 应该怎么处理?**



**怎样拦截SpringMVC的异常，然后做自定义的处理，比如打日志或者包装成JSON**



MySQL

如果有很多数据插入MYSQL 你会选择什么方式?
如果查询很慢，你会想到的第一个方式是什么？索引是干嘛的?
如果建了一个单列索引，查询的时候查出2列，会用到这个单列索引吗？
如果建了一个包含多个列的索引，查询的时候只用了第一列，能不能用上这个索引？查三列呢？
接上题，如果where条件后面带有一个 i + 5 < 100 会使用到这个索引吗？
怎么看是否用到了了某个索引？
like %aaa%会使用索引吗? like aaa%呢?
drop、truncate、delete的区别？
平时你们是怎么监控数据库的? 慢SQL是怎么排查的？
你们数据库是否支持emoji表情，如果不支持，如何操作?
你们的数据库单表数据量是多少？一般多大的时候开始出现查询性能急剧下降？
查询死掉了，想要找出执行的查询进程用什么命令？找出来之后一般你会干嘛？
读写分离是怎么做的？你认为中间件会怎么来操作？这样操作跟事务有什么关系？
分库分表有没有做过？线上的迁移过程是怎么样的？如何确定数据是正确的？

JVM

你知道哪些或者你们线上使用什么GC策略? 它有什么优势，适用于什么场景？
JAVA类加载器包括几种？它们之间的父子关系是怎么样的？双亲委派机制是什么意思？有什么好处？
如何自定义一个类加载器？你使用过哪些或者你在什么场景下需要一个自定义的类加载器吗？
堆内存设置的参数是什么？
Perm Space中保存什么数据? 会引起OutOfMemory吗？
做gc时，一个对象在内存各个Space中被移动的顺序是什么？
你有没有遇到过OutOfMemory问题？你是怎么来处理这个问题的？处理过程中有哪些收获？
1.8之后Perm Space有哪些变动? MetaSpace大小默认是无限的么? 还是你们会通过什么方式来指定大小?
Jstack是干什么的? Jstat呢? 如果线上程序周期性地出现卡顿，你怀疑可能是gc导致的，你会怎么来排查这个问题？线程日志一般你会看其中的什么部分？
StackOverFlow异常有没有遇到过？一般你猜测会在什么情况下被触发？如何指定一个线程的堆栈大小？一般你们写多少？
针对这些面试题的答案，我找了几个一线互联网资深架构师朋友把这些面试相关内容录制成视频放在群：725219329中分享给有需要的朋友免费获取；不仅如此，还包括一些目前互联网最主流的架构技术：分布式，微服务，等热门话题的底层实现原理正在录制中，感兴趣的朋友可以进来看看。希望每一个进来的人都有收货。

Linux命令

日志特别大只想看最后100行怎么弄弄? 如果想一直看日志的持续输出，用什么命令?
如果日志一边输出，一边想实时看到有没有某个关键字应该怎么弄？
grep如果忽略大小写应该怎么弄? 正则表达式呢？
vim往下一行是什么键？往下30行呢? 跳到文件末尾一行是什么? 跳回来是什么? 向后搜索是什么?
如果有个文本文件，按空格作为列的分隔符，如果想统计第三列里面的每个单词的出现次数应该怎么弄？
如果把上面的出现次数排个序应该怎么弄? 想按照数字本身的顺序而不是字符串的顺序排列怎么弄？
Linux环境变量是以什么作为分隔符的？环境变量通过什么命令设置？
给某个文件权设置限比如设置为64 是用什么命令？这个6是什么意思？
Linux下面如果想看某个进程的资源占用情况是怎么看的？系统load大概指的什么意思？你们线上系统load一般多少？如果一个4核机器，你认为多少load是比较正常的？top命令里面按一下1会发生什么?
top命令里面，有时候所有进程的CPU使用率加起来超过100%是怎么回事？
还有哪些查看系统性能或者供你发现问题的命令？你一般是看哪个参数？
想看某个进程打开了哪些网络连接是什么命令？里面连接的状态你比较关心哪几种？ -- 偏题
有没有做过Linux系统参数方面的优化，大概优化过什么？
系统参数里面有个叫做backlog的可以用来干什么？
查看网络连接发现好多TIMEWAIT 可能是什么原因？对你的应用会有什么影响？你会选择什么样的方式来减少这些TIMEWAIT
可否介绍一下TCP三次握手的过程，如果现在有个网络程序，你用第三方的library来发送数据，你怀疑这个library发送的数据有问题，那么怎么来验证？tcpdump导出的文件你一般是怎么分析的？
KeepAlive是用来干什么的？这样的好处是什么？

Redis -- 开发

缓存穿透可以介绍一下么？你认为应该如何解决这个问题
你是怎么触发缓存更新的？(比如设置超时时间(被动方式), 比如更新的时候主动update)？如果是被动的方式如何控制多个入口同时触发某个缓存更新？
你们用Redis来做什么？为什么不用其他的KV存储例例如Memcached,Cassandra等?
你们用什么Redis客户端? Redis高性能的原因大概可以讲一些?
你熟悉哪些Redis的数据结构? zset是干什么的? 和set有什么区别?
Redis的hash, 存储和获取的具体命令叫什么名字?
LPOP和BLPOP的区别?
Redis的有一些包含SCAN关键字的命令是干嘛的? SCAN返回的数据量是固定的吗?
Redis中的Lua有没有使用过? 可以用来做什么? 为什么可以这么用?
Redis的Pipeline是用来干什么的? -- 运维
Redis持久化大概有几种方式? aof和rdb的区别是什么? AOF有什么优缺点吗?
Redis Replication的大致流程是什么? bgsave这个命令的执行过程? -- 偏题
如果有很多 KV数据要存储到Redis, 但是内存不足, 通过什么方式可以缩减内存? 为什么这样可以缩小内存?
Redis中List, HashTable都用到了ZipList, 为什么会选择它

监控、稳定性

业务日志是通过什么方式来收集的？
线上机器如何监控？采用什么开源产品或者自研的产品？它是分钟级的还是秒级的？
如果让你来想办法收集一个JAVA后端应用的性能数据，你会在意哪些方面? 你会选择什么样的工具、思路来收集?
一般你调用第三方的时候会不会监控调用情况？